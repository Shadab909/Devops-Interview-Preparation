In this video, we will be talking about file permissions, we have seen so many types of file text

file, directories, link file, every file will have ownership.

As you see here, there is this file which has an ownership of a root user and the group ownership root.

So root User owns this file and the group root owns this file.

And then you have the permissions rwx, read, right, execute for the root user, then you have

r - x read and execute permission for the root group and the third one is r - x, which is

for others.

So you have read and execute permission for others.

Now let's see how that works.

So let's do ls -l here in the home dir of root user.

And you see some files and see some directories and links.

Let's copy this information to a text file.

And decode it

OK, so for the file, anaconda-ks.cfg

It is owned by the root user and the group is root, the permission to this file.

So you will have first hyphen, which is the type of file then you have next three hyphen or three

placeholder where you will have, first, you have here rw, which means read and write.

So this really is the file type, right?

And the next three bits you see is for the user or the owner of the file.

And then the next three is for the group.

And in the last three, its for others.

These are the permissions or callers as mode for a particular entity, so for user or the owner you

have read and write r w, so r means read permission.

W means write permission.

And if you see that x, that means the executable permission.

All right, with this information, we can look at this dir, divorce dir, and we can see

for the user root it has read, write and execute permission on this directory for the group root

it has read and execute.

If there is a hyphen, that means that permission is missing.

So.

Right.

Permission is missing for the group root.

Last 3 for others.

Read and execute permission for other users on this directory. For Anakonda-ks file only the root

user has read and write permission.

Nobody else has any permission.

Not even the group.

Not even the others.

Now execute permission on a directory means you can do cd.

Any other person can do.

Any other user can do cd into the devops dir.

r is for read, can do a ls, list the content in the directory.

And w write means can make changes, can even delete it.

For a link file, you should see full permission, but that is the permission for the link and not for

the actual file where it points to. The actual file permission could be something else.

OK, so.

Reiterating it once again, devops dir is owned by root user and the root group, and these are the

permission, read write execute for root user, read and execute for group, read and execute for others.

Now let's make changes.

Not here.

Will create a different directory.

/opt/devopsdir

And I will do ls -l to opt dir.

And you see there is a devops dir, when you created with the root users.

It is owned by the root user and this is the current authorization.

Now I will create some group and some users. So for group, named devops , and then I will

create some users. useradd and I will say ansible, useradd jenkins' and then useradd.

aws

That is fine.

That's not an error.

Its mailing pool already exist, it says.

Let's add one more user, we will add a user named Miles.

OK, now I will add.

These three users into the devops group.

I am going to edit the group file directly.

I will go to the group devops and add the user, aws, ansible, jenkins.

OK, I am not adding the user miles into this group. Save and quit.

OK, let's test it.

id ansible, it's in the group devops.

OK, then.

So I have created a dir, you can check the permission of directory by using ls -ld

ls -ld /opt/devopsdir

Now, I want to change the ownership. chown command and I give the user name, so I will give

the user named Ansible and I can give the group name also here by using a colon : or a dot .

group name, I will say Dev Ops.

And devops dir path, if you want to do it recursively, like also Subdirectories, you can use -r

but currently there's nothing in that directory, so.

It's not going to make any changes inside that directory because it does not have any files.

OK, now let's do ls -ld

Now, one thing before we continue or be very careful with using recursive option, if you really mean

to do that, then only use recursive.

If you have like hundreds of files and directly inside that, remember, every file will have this user

and this group ownership then. It will not be easy to roll back.

So be careful when you're doing this recursive operation.

OK, now this directory is owned by the ansible user and the group is Dev Ops and they have these permissions.

Full permission for Ansible and read & execute permission for the group, I want to change that.

I want to remove permission for others, all the permissions, and I want to add write.

write permission for the group.

So the command is chmod and I'm going to say for others.

So o is for others - x, so for others remove execute permission like that.

So any other user will not be able to do cd into that directory.

That's nice, but that other users can do ls to that file, which I don't want.

So I would like to say o-r, so for others remove read permission also.

Yeah, that's nice.

Now I want to add write permission for the group, so I will say, chmod, g for group, plus to add, w is write permission

permission /opt/devopsdir

So now it's how I wanted it to be and ansible user has full permission to read, write, execute. devops group has full

permission, read write execute and others have no permission whatsoever.

Now, I will switch to Miles User, which is others for this file.

So if I do a less.

ls /opt/devopsdir, I will get permission denied.

If I tried to do cd into that dir.

I will get permission denied because execute permission is not there for others.

And definitely can't make any changes in that dir, if I try to create some file.

touch I would say /opt/devopsdir/test1. Permission denied, so no write, no execute and no read permission.

But if I switch to lets say aws user.

Now, I did not set any password for this user. So I have to say exit. From the root user, you do switch

to aws user or any user that you created.

Now, aws User is a part of the devops Group.

So can do a ls /opt/devopsdir, nice, can do cd.

Yes, let me clear the screen.

Can create a file also here, touch.

I will say awsfiles.

Yeah, so read write execute permission

So that's how this permission.

And ownership work together.

So in this directory.

Ansible and any user in the devops group has full permission.

Others have no permission.

So the ownership and the mode permission works together to secure a file or to give it right privilege

to right user.

OK, now let me exit from this user.

OK, so as you have Alphabet's for user group and others and you have Alphabet's for the permission

read write execute and your plus and minus to grant or deny permission. Like that, you also have a number

associated with this permission read write execute.

So in chmod we have seen symbolic method of changing the file permission.

There is also numeric method.

So you have to specify three, three digit number, the first digit will be for the owner, the

user, the second digit will be for the group, third digit will be for others.

And you can use these integeral value 4 is for read, 2 is for

write

And 1 is for others.

So an example.

If I give chmod 640. The first digit, which is for the user owner, six, which

id 4+2=6

So read and write permission for the user. 4 that means just read permission for the group, 0

0 means no permission for others.

So let's go back.

And I will create, again, a new directory.

/opt/webdata, I will create a dir named webdata there, ls -ld /opt/webdata.

First again I will change the ownership. chown.

I will give user aws and group devops.

OK, now I want to change the permission at once for the user, for the group and for the others, and

I want full permission for a user.

Full permission for the group and no permission for others, so let's check our document.

Full permission.

Read, write, execute, 4+2+1=7

4+2+1=7, That's seven, so we have to give seven for the user and then for group.

Also we're saying devops group, read, write, execute.

So 4+2+1=7, seven and no permission for others.

So zero.

And we give the path.

If you want to do this recursively, if there are files inside that directory, you want to do it recursively,

then use use an option R, -R.

And it will do it recursively.

Likewise, if I want to give full permission for the user, I will say seven for the group. I just want to give

read and execute.

So four plus one, that's five.

And let's say I want to give read permission for others.

So 4.

Again, if you want to do it recursively or you don't want to do it.

That depends on the situation.

So numeric method is easy or quick way to give permission for user group and others at the same time.

Or if you are only comfortable with symbolic method, you can go with that.

Numeric method with the numbers 4,2,1 and symbolic method with plus minus and the permission are

rwx